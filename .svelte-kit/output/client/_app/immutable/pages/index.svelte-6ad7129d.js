import{S as U,i as C,s as N,x as M,y as P,z as I,r as d,p as h,C as x,e as b,t as O,k as z,c as $,a as k,h as R,d as m,m as E,b as _,g as v,F as g,o as A,q as T,L as K,M as B,N as L,O as Y,P as q,Q as F,R as w,T as Q,U as G}from"../chunks/index-bb418885.js";import{M as J}from"../chunks/MovieCard-b75031bc.js";import{c as y}from"../chunks/singletons-d1fb5791.js";import{f as S}from"../chunks/index-8071ad13.js";function V(u,e,o){const t=u.slice();return t[1]=e[o],t}function j(u){let e,o;return e=new J({props:{movie:u[1]}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){I(e,t,a),o=!0},p(t,a){const f={};a&1&&(f.movie=t[1]),e.$set(f)},i(t){o||(d(e.$$.fragment,t),o=!0)},o(t){h(e.$$.fragment,t),o=!1},d(t){x(e,t)}}}function W(u){let e,o,t,a,f,s=u[0],l=[];for(let r=0;r<s.length;r+=1)l[r]=j(V(u,s,r));const c=r=>h(l[r],1,1,()=>{l[r]=null});return{c(){e=b("h3"),o=O("Popular movies from popular page"),t=z(),a=b("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=$(r,"H3",{class:!0});var n=k(e);o=R(n,"Popular movies from popular page"),n.forEach(m),t=E(r),a=$(r,"DIV",{class:!0});var i=k(a);for(let p=0;p<l.length;p+=1)l[p].l(i);i.forEach(m),this.h()},h(){_(e,"class","svelte-19dfrtz"),_(a,"class","popular-movies svelte-19dfrtz")},m(r,n){v(r,e,n),g(e,o),v(r,t,n),v(r,a,n);for(let i=0;i<l.length;i+=1)l[i].m(a,null);f=!0},p(r,[n]){if(n&1){s=r[0];let i;for(i=0;i<s.length;i+=1){const p=V(r,s,i);l[i]?(l[i].p(p,n),d(l[i],1)):(l[i]=j(p),l[i].c(),d(l[i],1),l[i].m(a,null))}for(A(),i=s.length;i<l.length;i+=1)c(i);T()}},i(r){if(!f){for(let n=0;n<s.length;n+=1)d(l[n]);f=!0}},o(r){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)h(l[n]);f=!1},d(r){r&&m(e),r&&m(t),r&&m(a),K(l,r)}}}function X(u,e,o){let{popular:t}=e;return u.$$set=a=>{"popular"in a&&o(0,t=a.popular)},[t]}class Z extends U{constructor(e){super(),C(this,e,X,W,N,{popular:0})}}y.disable_scroll_handling;const ee=y.goto;y.invalidate;y.prefetch;y.prefetch_routes;y.before_navigate;y.after_navigate;function D(u){let e,o,t,a,f;return{c(){e=b("label"),o=O("Search movie"),this.h()},l(s){e=$(s,"LABEL",{for:!0,class:!0});var l=k(e);o=R(l,"Search movie"),l.forEach(m),this.h()},h(){_(e,"for","search_movie"),_(e,"class","svelte-pfeaud")},m(s,l){v(s,e,l),g(e,o),f=!0},i(s){f||(B(()=>{a&&a.end(1),t=L(e,S,{y:-10,duration:500}),t.start()}),f=!0)},o(s){t&&t.invalidate(),a=Y(e,S,{y:-10,duration:500}),f=!1},d(s){s&&m(e),s&&a&&a.end()}}}function H(u){let e,o,t,a,f;return{c(){e=b("button"),o=O("Search"),this.h()},l(s){e=$(s,"BUTTON",{class:!0});var l=k(e);o=R(l,"Search"),l.forEach(m),this.h()},h(){_(e,"class","svelte-pfeaud")},m(s,l){v(s,e,l),g(e,o),f=!0},i(s){f||(B(()=>{a&&a.end(1),t=L(e,S,{y:10,duration:500}),t.start()}),f=!0)},o(s){t&&t.invalidate(),a=Y(e,S,{y:0,duration:500}),f=!1},d(s){s&&m(e),s&&a&&a.end()}}}function te(u){let e,o,t,a,f,s,l,c,r=!u[1]&&D(),n=u[0]&&H();return{c(){e=b("form"),r&&r.c(),o=z(),t=b("input"),f=z(),n&&n.c(),this.h()},l(i){e=$(i,"FORM",{class:!0});var p=k(e);r&&r.l(p),o=E(p),t=$(p,"INPUT",{type:!0,name:!0,class:!0}),f=E(p),n&&n.l(p),p.forEach(m),this.h()},h(){_(t,"type","text"),_(t,"name","search_movie"),_(t,"class",a=q(u[1]?"selected":"")+" svelte-pfeaud"),_(e,"class","search svelte-pfeaud")},m(i,p){v(i,e,p),r&&r.m(e,null),g(e,o),g(e,t),F(t,u[0]),g(e,f),n&&n.m(e,null),s=!0,l||(c=[w(t,"blur",u[2]),w(t,"focus",u[4]),w(t,"input",u[5]),w(e,"submit",Q(u[3]))],l=!0)},p(i,[p]){i[1]?r&&(A(),h(r,1,1,()=>{r=null}),T()):r?p&2&&d(r,1):(r=D(),r.c(),d(r,1),r.m(e,o)),(!s||p&2&&a!==(a=q(i[1]?"selected":"")+" svelte-pfeaud"))&&_(t,"class",a),p&1&&t.value!==i[0]&&F(t,i[0]),i[0]?n?p&1&&d(n,1):(n=H(),n.c(),d(n,1),n.m(e,null)):n&&(A(),h(n,1,1,()=>{n=null}),T())},i(i){s||(d(r),d(n),s=!0)},o(i){h(r),h(n),s=!1},d(i){i&&m(e),r&&r.d(),n&&n.d(),l=!1,G(c)}}}function re(u,e,o){let t="",a=!1;function f(){t?o(1,a=!0):o(1,a=!1)}function s(){ee("search/"+t)}const l=()=>o(1,a=!0);function c(){t=this.value,o(0,t)}return[t,a,f,s,l,c]}class ae extends U{constructor(e){super(),C(this,e,re,te,N,{})}}function le(u){let e,o,t,a,f,s,l;return o=new ae({}),a=new Z({props:{popular:u[0]}}),{c(){e=b("section"),M(o.$$.fragment),t=z(),M(a.$$.fragment)},l(c){e=$(c,"SECTION",{});var r=k(e);P(o.$$.fragment,r),t=E(r),P(a.$$.fragment,r),r.forEach(m)},m(c,r){v(c,e,r),I(o,e,null),g(e,t),I(a,e,null),l=!0},p(c,[r]){const n={};r&1&&(n.popular=c[0]),a.$set(n)},i(c){l||(d(o.$$.fragment,c),d(a.$$.fragment,c),B(()=>{s&&s.end(1),f=L(e,S,{y:50,duration:500,delay:500}),f.start()}),l=!0)},o(c){h(o.$$.fragment,c),h(a.$$.fragment,c),f&&f.invalidate(),s=Y(e,S,{duration:500}),l=!1},d(c){c&&m(e),x(o),x(a),c&&s&&s.end()}}}const oe="75353d44bc278e8ae6cd9006dd05fab7",ne=`https://api.themoviedb.org/3/movie/popular?api_key=${oe}&language=en-US&page=1`;async function pe({fetch:u}){const e=await u(ne),o=await e.json();if(e.ok)return{props:{popular:o.results}}}function se(u,e,o){let{popular:t}=e;return u.$$set=a=>{"popular"in a&&o(0,t=a.popular)},[t]}class me extends U{constructor(e){super(),C(this,e,se,le,N,{popular:0})}}export{me as default,pe as load};
